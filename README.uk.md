# AutoPosting - Система автоматизованого постингу в соціальних мережах

Інтегрована платформа для автоматизації публікацій в соціальних мережах з AI-генерацією контенту, інтелектуальним плануванням, збором аналітики та рекомендаціями на основі ефективності для Facebook.

---

## Основні можливості

<p align="center">
  <img src="screenshots/Posts.PNG" width="700"><br>
  <em>Інтерфейс управління публікаціями</em>
</p>

- **AI-генерація контенту**: Автоматичне створення публікацій за допомогою GPT4Free (безкоштовна бібліотека)
- **Розумне планування**: Автоматизована публікація постів з налаштовуваними часовими слотами
- **Панель аналітики**: Відстеження метрик у реальному часі (лайки, коментарі, репости, покази)
- **AI-рекомендації**: Інтелектуальні пропозиції на основі аналізу ефективності публікацій
- **Багатомовна підтримка**: Генерація контенту українською мовою
- **Система шаблонів**: Багаторазові шаблони публікацій для швидкого створення контенту
- **Google OAuth**: Безпечна автентифікація користувачів
- **Інтеграція з Facebook**: Пряма публікація на сторінки Facebook

---

## Технологічний стек

**Бекенд:**
- Python 3.9+
- FastAPI
- SQLite
- Facebook Graph API
- GPT4Free (безкоштовна AI-бібліотека)

**Фронтенд:**
- HTML5/CSS3
- Vanilla JavaScript
- Адаптивний дизайн

---

## Встановлення

### Передумови

- Python 3.9 або вище
- Обліковий запис Facebook Developer
- Обліковий запис Google Cloud Console

### 1. Клонування репозиторію

```bash
git clone https://github.com/yourusername/automarketing.git
cd automarketing
```

### 2. Встановлення залежностей

```bash
pip install fastapi uvicorn python-multipart requests python-dotenv schedule apscheduler authlib httpx itsdangerous g4f
```

**Примітка:** Бібліотека `g4f` (GPT4Free) є безкоштовною для некомерційного використання. При комерційному використанні рекомендується перейти на офіційні API-сервіси (OpenAI, Anthropic та ін.).

### 3. Налаштування додатку Facebook

1. Перейдіть на [Facebook Developers](https://developers.facebook.com/)
2. Створіть новий додаток або використайте існуючий
3. Додайте наступні продукти:
   - **Facebook Login** - для автентифікації користувачів
   - **Facebook Login for Business** - для автоматичної авторизації сторінок
4. Налаштуйте параметри OAuth:
   - Valid OAuth Redirect URIs: `http://localhost:8000/auth/facebook/callback`
   - Додайте наступні дозволи:
     - `pages_show_list`
     - `pages_read_engagement`
     - `pages_manage_posts`
     - `pages_read_user_content`
     - `business_management` (для автоматичної авторизації)
     - `publish_to_groups` (опціонально)

**Важливо:** Довготривалий токен доступу генерується автоматично після першої авторизації в системі та зберігається в базі даних.

### 4. Налаштування Google OAuth 2.0

1. Перейдіть в [Google Cloud Console](https://console.cloud.google.com/)
2. Створіть новий проект або виберіть існуючий
3. Увімкніть **Google+ API**
4. Створіть облікові дані OAuth 2.0:
   - Тип додатку: Веб-додаток
   - Авторизовані URI переспрямування: `http://localhost:8000/auth/google/callback`
5. Завантажте конфігурацію клієнта

### 5. Конфігурація середовища

Створіть файл `.env` в кореневій директорії проєкту:

```env
# Facebook API
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Application
SECRET_KEY=your_secret_key_for_sessions
BASE_URL=http://localhost:8000
```

**Примітка:** AI-генерація контенту працює автоматично через GPT4Free без додаткових налаштувань.

Згенеруйте безпечний секретний ключ:
```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

### 6. Ініціалізація бази даних

База даних буде створена автоматично при першому запуску зі наступною схемою:
- `users` - Облікові записи користувачів
- `facebook_pages` - Підключені сторінки Facebook
- `posts` - Опубліковані та заплановані пости
- `analytics` - Метрики ефективності постів
- `recommendations` - AI-згенеровані рекомендації
- `templates` - Багаторазові шаблони постів
- `scheduler_tasks` - Відстеження фонових завдань

### 7. Запуск додатку

```bash
python api_server.py
```

Додаток буде доступний за адресою `http://localhost:8000`

---

## Панель аналітики

<p align="center">
  <img src="screenshots/Analytics.png" width="700"><br>
  <em>Комплексна аналітика з метриками залучення та трендами ефективності</em>
</p>

Відстежуйте ефективність у соціальних мережах:
- Загальна кількість лайків, коментарів, репостів та показів
- Динаміка активності в часі
- Розподіл залучення за типами
- Топ-10 найефективніших публікацій
- Фільтрація за часом (Весь час, 30 днів, 7 днів)

---

## AI-рекомендації

<p align="center">
  <img src="screenshots/Recomandation.PNG" width="700"><br>
  <em>AI-рекомендації на основі аналізу ефективності публікацій</em>
</p>

Отримуйте інтелектуальні пропозиції щодо:
- Оптимального стилю та тону публікацій
- Найефективніших тем і тематик
- Рекомендованих ключових фраз
- Ідеальної довжини постів
- Найкращого часу для публікацій
- Оптимальних днів для публікацій
- Рекомендацій щодо використання зображень

---

## AI-генерація контенту

<p align="center">
  <img src="screenshots/AI_generation.png" width="700"><br>
  <em>AI-генерація публікацій з налаштовуваними параметрами</em>
</p>

Створюйте залучальний контент автоматично:
- Введення власної теми
- Рекомендації щодо стилю та тону
- Інтеграція запропонованих ключових фраз
- Налаштування довжини (31-430 символів)
- Генерація тексту в реальному часі
- Підтримка ручного редагування

---

## Структура проєкту

```
automarketing/
├── api_server.py              # Точка входу FastAPI додатку
├── api_routes.py              # Визначення API endpoints
├── api_models.py              # Моделі даних Pydantic
├── database.py                # Операції з базою даних
├── auth_facebook.py           # Інтеграція Facebook OAuth
├── auth_google.py             # Інтеграція Google OAuth
├── facebook_manager.py        # Операції Facebook API
├── facebook_analytics.py      # Збір даних аналітики
├── text_generator.py          # AI-генерація контенту
├── analytics_recommender.py   # AI-система рекомендацій
├── scheduler.py               # Планувальник фонових завдань
├── frontend/
│   ├── index.html             # Головний інтерфейс
│   └── static/
│       ├── style.css          # Стилі додатку
│       ├── app.js             # Основна логіка JavaScript
│       ├── auth.js            # Обробка автентифікації
│       ├── api.js             # Комунікація з API
│       ├── pages.js           # Управління сторінками
│       ├── images.js          # Обробка завантаження зображень
│       ├── charts.js          # Візуалізація аналітики
│       └── i18n.js            # Інтернаціоналізація
└── .env                       # Конфігурація середовища
```

---

## Використання

1. **Перший вхід**: Увійдіть через обліковий запис Google
2. **Підключення Facebook**: Авторизуйте додаток для доступу до ваших сторінок Facebook
3. **Вибір сторінки**: Оберіть сторінку Facebook для управління
4. **Створення постів**: Використовуйте ручне створення або AI-генерацію контенту
5. **Планування**: Встановіть час публікації або опублікуйте негайно
6. **Моніторинг аналітики**: Відстежуйте ефективність постів у реальному часі
7. **Отримання рекомендацій**: Отримуйте AI-пропозиції для оптимізації
8. **Використання шаблонів**: Зберігайте та повторно використовуйте успішні формати постів

---

## API Endpoints

### Автентифікація
- `GET /auth/google` - Ініціація Google OAuth
- `GET /auth/google/callback` - Callback Google OAuth
- `GET /auth/facebook` - Ініціація Facebook OAuth
- `GET /auth/facebook/callback` - Callback Facebook OAuth
- `POST /logout` - Вихід користувача

### Сторінки Facebook
- `GET /api/facebook-pages` - Список підключених сторінок
- `POST /api/select-page` - Вибір активної сторінки

### Публікації
- `GET /api/posts` - Отримання всіх постів
- `POST /api/posts` - Створення нового посту
- `DELETE /api/posts/{post_id}` - Видалення посту

### Аналітика
- `GET /api/analytics` - Отримання даних аналітики
- `POST /api/analytics/refresh` - Оновлення аналітики

### AI-функції
- `POST /api/generate-text` - Генерація контенту посту
- `GET /api/recommendations` - Отримання AI-рекомендацій
- `POST /api/recommendations/generate` - Створення нових рекомендацій

### Шаблони
- `GET /api/templates` - Список шаблонів
- `POST /api/templates` - Збереження шаблону
- `DELETE /api/templates/{template_id}` - Видалення шаблону

---

## Примітки з безпеки

- Всі облікові дані API зберігаються у файлі `.env` (не відстежується в git)
- Автентифікація на основі сесій з безпечним секретним ключем
- Реалізація OAuth 2.0 для Facebook та Google
- Довготривалий токен Facebook генерується автоматично після авторизації
- HTTPS рекомендується для production deployment
- GPT4Free використовується для некомерційних цілей

---

## Обмеження

- Діють обмеження швидкості Facebook API
- Максимум 430 символів на згенерований пост
- Оновлення аналітики обмежене 100 постами на запит
- Рекомендації базуються на мінімум 10 опублікованих постах

---

## Ліцензія

Цей проєкт розроблено в рамках магістерської роботи в Національному аерокосмічному університеті «Харківський авіаційний інститут» (ХАІ).

---
