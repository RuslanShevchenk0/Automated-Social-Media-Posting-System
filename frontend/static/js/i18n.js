// Система мультимови
const translations = {
    uk: {
        // Навігація
        nav_dashboard: 'Дашборд',
        nav_posts: 'Пости',
        nav_create: 'Створити пост',
        nav_analytics: 'Аналітика',
        nav_recommendations: 'Рекомендації',
        nav_templates: 'Шаблони',
        nav_settings: 'Налаштування',

        // Загальні
        refresh: 'Оновити',
        close: 'Закрити',
        cancel: 'Скасувати',
        save: 'Зберегти',
        delete: 'Видалити',
        create: 'Створити',
        edit: 'Редагувати',
        view: 'Переглянути',
        publish: 'Опублікувати',
        loading: 'Завантаження...',
        characters: 'символів',
        confirmation: 'Підтвердження',
        confirm: 'Підтвердити',

        // Confirm messages
        confirm_publish_post: 'Опублікувати цей пост зараз?',
        confirm_delete_post: 'Видалити цей пост? Цю дію не можна скасувати.',
        confirm_generate_templates: 'Згенерувати шаблони на основі AI рекомендацій? Це створить 3-5 нових шаблонів.',
        confirm_delete_template: 'Видалити цей шаблон?',
        confirm_remove_page: 'Видалити цю сторінку зі списку?',
        confirm_disconnect_facebook: 'Відключити Facebook? Всі сторінки будуть видалені.',
        confirm_refresh_all: 'Оновити аналітику для ВСІХ опублікованих постів (за весь час)?\n\nБуде оброблено до 100 постів. Це може зайняти кілька хвилин.',
        confirm_generate_recommendations: 'Згенерувати нові рекомендації на основі аналізу топ-постів?',
        confirm_create_templates_from_ai: 'Згенерувати шаблони на основі AI-рекомендацій?\n\nБуде створено 3-5 оптимізованих шаблонів.',
        confirm_quick_refresh: 'Оновити аналітику за останні 7 днів?\n\nБуде оброблено до 50 останніх постів.',

        // Error messages
        error_not_enough_posts: 'Недостатньо опублікованих постів для аналізу',
        error_published_posts: 'Опубліковано постів:',
        error_refresh_analytics_hint: 'Переконайтеся що ви оновили аналітику на сторінці "Аналітика"',
        error_generation: 'Помилка генерації рекомендацій',

        // AI prompt templates
        ai_prompt_intro: 'Створи пост для Facebook з урахуванням наступних рекомендацій:',
        ai_prompt_style: 'Стиль',
        ai_prompt_tone: 'Тон',
        ai_prompt_topics: 'Теми',
        ai_prompt_phrases: 'Використай фрази',
        ai_prompt_structure: 'Структура',
        ai_prompt_emoji: 'Емоджі',
        ai_prompt_your_topic: 'Твоя тема',
        ai_recommendations_applied: 'Рекомендації AI застосовано! Додайте свою тему в кінці промпту.',
        ai_recommendations_unavailable: 'Рекомендації недоступні',

        // Сторінка авторизації
        auth_welcome: 'Ласкаво просимо',
        auth_description: 'Увійдіть за допомогою вашого облікового запису Google, щоб продовжити',
        auth_google_signin: 'Увійти через Google',
        auth_secure_login: 'Безпечний вхід',
        auth_terms: 'Продовжуючи, ви погоджуєтесь з умовами використання платформи',
        auth_have_questions: 'Маєте питання?',
        auth_contact_us: 'Зв\'яжіться з нами',
        auth_right_title: 'Розумний постінг в соціальних мережах',
        auth_right_subtitle: 'Інтегрована система для автоматизованого постінгу в соціальних мережах з підтримкою AI',
        auth_feature_ai: 'AI Генерація',
        auth_feature_ai_desc: 'Створення постів за допомогою штучного інтелекту',
        auth_feature_analytics: 'Аналітика',
        auth_feature_analytics_desc: 'Детальна статистика ефективності публікацій',
        auth_feature_schedule: 'Планування',
        auth_feature_schedule_desc: 'Автоматична публікація в оптимальний час',
        auth_feature_multi: 'Мультиплатформеність',
        auth_feature_multi_desc: 'Публікація на декількох платформах одночасно',

        // Кнопки дій
        generate_recommendations: 'Згенерувати рекомендації',
        apply_to_prompt: 'Застосувати до промпту',
        create_templates: 'Створити шаблони',
        quick_refresh: 'Швидке оновлення',
        refresh_all: 'Оновити все',
        collect_analytics: 'Зібрати аналітику',

        // Дашборд
        total_posts: 'Всього постів',
        total_likes: 'Лайків',
        total_comments: 'Коментарів',
        total_shares: 'Репостів',
        total_impressions: 'Показів',
        ai_insights: 'AI Інсайти',
        recent_posts: 'Останні пости',
        best_posts: 'Найкращі пости',
        top_performing: 'Топ пости за залученістю',

        // Статуси
        status_draft: 'Чернетка',
        status_scheduled: 'Запланований',
        status_published: 'Опублікований',
        status_failed: 'Помилка',

        // Створення поста
        creation_mode: 'Режим створення',
        manual: 'Вручну',
        ai_generation: 'AI генерація',
        ai_prompt: 'Промпт для AI',
        ai_prompt_placeholder: 'Опишіть про що має бути пост...',
        min_length: 'Мінімальна довжина',
        max_length: 'Максимальна довжина',
        generate_text: 'Згенерувати текст',
        post_content: 'Текст поста',
        post_content_placeholder: 'Напишіть ваш пост тут...',
        link_optional: 'Посилання (необов\'язково)',
        add_images: 'Додати зображення',
        select_images: 'Оберіть зображення',
        selected_images: 'Обрано зображень',
        no_images_selected: 'Не вибрано',
        image_hint: 'Підказка: Можна вибрати кілька зображень. Максимум 10 фото.',
        select_pages: 'Виберіть сторінки для публікації',
        publish_mode: 'Режим публікації',
        publish_now: 'Опублікувати зараз',
        schedule: 'Запланувати',
        scheduled_time: 'Дата та час публікації',
        create_post: 'Створити пост',

        // Аналітика
        analytics_summary: 'Загальна аналітика',
        engagement_rate: 'Рівень залученості',
        avg_engagement: 'Середня залученість',
        period_filter: 'Фільтр періоду',
        days_7: '7 днів',
        days_30: '30 днів',
        all_time: 'Весь час',
        post_performance: 'Ефективність постів',
        likes: 'Лайків',
        comments: 'Коментарів',
        shares: 'Репостів',
        impressions: 'Показів',

        // Рекомендації
        recommendations: 'Рекомендації',
        based_on_analysis: 'На основі аналізу найуспішніших постів',
        length_label: 'ДОВЖИНА:',
        time_label: 'ЧАС:',
        photo_label: 'ФОТО:',
        optional: 'Опціонально',
        top_5_posts: 'Топ-5 постів',
        connected_pages: 'Підключені сторінки',
        published_badge: 'Опубліковано',
        view_button: 'Переглянути',
        pieces_short: 'шт',
        analyzed_posts: 'Проаналізовано постів',
        optimal_length: 'Оптимальна довжина',
        best_time: 'Найкращий час',
        best_day: 'Найкращий день',
        content_insights: 'Інсайти контенту',
        style: 'Стиль',
        tone: 'Тон',
        topics: 'Теми',
        key_phrases: 'Ключові фрази',
        emojis: 'Емоджі',
        structure: 'Структура',
        call_to_action: 'Заклик до дії',
        use_images: 'Використання зображень',
        use_links: 'Використання посилань',

        // Шаблони
        templates: 'Шаблони',
        template_name: 'Назва шаблону',
        template_type: 'Тип шаблону',
        ready_text: 'Готовий текст',
        ai_prompt_type: 'AI Промпт',
        use_template: 'Використати',
        delete_template: 'Видалити шаблон',
        create_template: 'Створити шаблон',
        no_templates: 'Немає шаблонів',

        // Налаштування
        settings: 'Налаштування',
        facebook_pages: 'Facebook сторінки',
        connected_pages: 'Підключені сторінки',
        no_pages: 'Немає підключених сторінок',
        page_name: 'Назва сторінки',
        page_id: 'ID сторінки',
        connect_facebook: 'Підключити Facebook',
        disconnect: 'Відключити',
        refresh_pages: 'Оновити сторінки',

        // Повідомлення
        success: 'Успішно',
        error: 'Помилка',
        warning: 'Попередження',
        info: 'Інформація',
        data_updated: 'Дані оновлено',
        post_created: 'Пост створено успішно!',
        post_published: 'Пост опубліковано',
        post_deleted: 'Пост видалено',
        template_created: 'Шаблон створено',
        template_deleted: 'Шаблон видалено',
        enter_prompt: 'Введіть промпт для генерації',
        enter_content: 'Введіть текст поста',
        select_page: 'Оберіть хоча б одну сторінку',
        confirm_delete: 'Підтвердіть видалення',
        confirm_publish: 'Підтвердіть публікацію',

        // Дні тижня
        monday: 'Понеділок',
        tuesday: 'Вівторок',
        wednesday: 'Середа',
        thursday: 'Четвер',
        friday: 'П\'ятниця',
        saturday: 'Субота',
        sunday: 'Неділя',

        // Додаткові переклади
        recent_posts_list: 'Останні пости',
        all_posts: 'Всі пости',
        no_posts: 'Немає постів',
        post_details: 'Деталі поста',
        created: 'Створено',
        published: 'Опубліковано',
        scheduled_for: 'Заплановано на',
        logout: 'Вихід',
        no_recommendations: 'Немає рекомендацій',
        generate_new: 'Згенерувати нові',
        no_analytics: 'Немає аналітики',
        page_not_found: 'Сторінка не знайдена',
        loading_error: 'Помилка завантаження',
        updated: 'Оновлено',
        ago: 'тому',
        hours: 'годин',
        at: 'о',
        on: 'в',
        best_performing: 'Найкращі за ефективністю',
        post_text: 'Текст поста',
        publications_on_pages: 'Публікації на сторінках',
        statistics: 'Статистика',
        update_data: 'Оновити дані',
        apply_recommendations: 'Застосувати рекомендації',
        based_on_top_posts: 'На основі ${count} найуспішніших постів',
        posting_schedule: 'Графік публікацій',
        content_recommendations: 'Рекомендації по контенту',
        from: 'від',
        to: 'до',
        recommended: 'Рекомендовано',
        yes: 'Так',
        no: 'Ні',
        images: 'Зображення',
        with_images: 'З зображеннями',
        with_links: 'З посиланнями',
        image: 'зображення',
        link: 'Посилання',
        status: 'Статус',
        actions: 'Дії',
        filter: 'Фільтр',
        show_all: 'Показати все',
        per_page: 'на сторінку',
        total: 'Всього',
        avg: 'Середнє',
        select_all: 'Вибрати все',
        deselect_all: 'Скасувати вибір',
        content_style: 'Стиль контенту',
        create_first_post: 'Створіть свій перший пост',
        view_post_details: 'Переглянути деталі',
        view_details: 'Переглянути деталі',

        // Додаткові переклади для pages.js
        date_time: 'Дата та час',
        post_analytics: 'Аналітика постів',
        published_posts: 'Опубліковано постів',
        refresh_all_tooltip: 'Повне оновлення всіх постів (може тривати довго)',
        quick_refresh_tooltip: 'Швидке оновлення за останні 7 днів',
        refresh_all_description: 'оновлює ВСІ опубліковані пости (до 100 постів, без обмеження по даті)',
        quick_refresh_description: 'оновлює тільки пости за останні 7 днів (до 50 постів)',
        hint: 'Підказка',
        no_published_posts: 'Немає опублікованих постів',
        publish_first_for_analytics: 'Спочатку опублікуйте пости на Facebook, щоб побачити аналітику',
        activity_dynamics: 'Динаміка активності',
        cumulative_growth: 'Накопичувальне зростання',
        engagement_distribution: 'Розподіл взаємодій',
        type_ratio: 'Співвідношення типів',
        top_10_posts: 'Топ-10 найкращих постів',
        '7_days': '7 днів',
        '30_days': '30 днів',
        post: 'Пост',
        comm_short: 'Ком.',
        shares_short: 'Реп.',
        photo: 'Фото',
        detailed_analytics: 'Детальна аналітика',
        performance_dynamics: 'Динаміка ефективності',
        avg_engagement_rate: 'Середній Engagement Rate',
        top_10: 'Топ-10',
        insights: 'Інсайти',
        analyzed: 'Проаналізовано',
        avg_impressions: 'Середній показ',
        views: 'переглядів',
        engagement: 'Залученість',
        interactions: 'взаємодій',
        accumulated_until: 'Накопичено до',
        tip: 'Порада',
        use_recommendations_page: 'Використовуйте сторінку "Рекомендації" для детального аналізу найуспішніших постів та отримання AI-інсайтів для покращення контенту.',
        go_to_recommendations: 'Перейти до рекомендацій',
        click_quick_refresh: 'Натисніть "Швидке оновлення" для збору аналітики',
        loading_analytics_error: 'Помилка завантаження аналітики',
        ai_recommendations: 'AI Рекомендації',
        current_recommendations: 'Поточні рекомендації',
        based_on: 'На основі',
        posts: 'постів',
        style_and_tone: 'Стиль і Тон контенту',
        length: 'Довжина',
        days: 'Дні',
        links: 'Посилання',
        need_published_posts_for_recommendations: 'Для генерації рекомендацій потрібно мати опубліковані пости.',
        top_10_week_posts: 'Топ-10 постів за останній тиждень',
        loading_recommendations_error: 'Помилка завантаження рекомендацій',
        post_templates: 'Шаблони постів',
        generate_from_ai: 'Згенерувати з AI',
        use: 'Використати',
        create_templates_for_quick_posts: 'Створіть шаблони для швидкого створення постів',
        facebook_connection: 'Підключення Facebook',
        facebook_connected: 'Facebook підключено',
        found: 'Знайдено',
        valid_until: 'Дійсний до',
        how_to_connect_facebook: 'Як підключити Facebook',
        fb_step_1: 'Натисніть кнопку "Підключити Facebook" нижче',
        fb_step_2: 'Увійдіть у свій Facebook акаунт',
        fb_step_3: 'Надайте дозволи для управління сторінками',
        fb_step_4: 'Ваші Facebook Pages будуть автоматично підключені',
        no_connected_pages: 'Немає підключених сторінок',
        click_refresh_to_load_pages: 'Натисніть "Оновити сторінки" щоб завантажити ваші Facebook Pages',
        connect_facebook_to_see_pages: 'Підключіть Facebook вище, щоб ваші сторінки з\'явилися тут автоматично',
        about_system: 'Про систему',
        integrated_posting_system: 'Інтегрована система автоматизованого постінгу',
        version: 'Версія',
        tokens: 'Токени',
        connected: 'Підключено',
        no_name: 'Без назви',
        close: 'Закрити',
        loading: 'Завантаження...',
        not_specified: 'Не вказано',
        days_ago: 'дн. тому',
        hours_ago: 'год. тому',
        minutes_ago: 'хв. тому',
        just_now: 'щойно',
        post_created_success: 'Пост створено успішно!',
        post_creation_error: 'Помилка створення поста',
        post_published_on_pages: 'Пост опублікований на ${successCount}/${totalCount} сторінках',
        post_loading_error: 'Помилка завантаження поста',
        post_deleted: 'Пост видалено',
        no_published_posts_to_update: 'Немає опублікованих постів для оновлення',
        no_posts_last_7_days: 'Немає постів за останні 7 днів для оновлення',
    },

    en: {
        // Navigation
        nav_dashboard: 'Dashboard',
        nav_posts: 'Posts',
        nav_create: 'Create Post',
        nav_analytics: 'Analytics',
        nav_recommendations: 'Recommendations',
        nav_templates: 'Templates',
        nav_settings: 'Settings',

        // Common
        refresh: 'Refresh',
        close: 'Close',
        cancel: 'Cancel',
        save: 'Save',
        delete: 'Delete',
        create: 'Create',
        edit: 'Edit',
        view: 'View',
        publish: 'Publish',
        loading: 'Loading...',
        characters: 'characters',
        confirmation: 'Confirmation',
        confirm: 'Confirm',

        // Confirm messages
        confirm_publish_post: 'Publish this post now?',
        confirm_delete_post: 'Delete this post? This action cannot be undone.',
        confirm_generate_templates: 'Generate templates based on AI recommendations? This will create 3-5 new templates.',
        confirm_delete_template: 'Delete this template?',
        confirm_remove_page: 'Remove this page from the list?',
        confirm_disconnect_facebook: 'Disconnect Facebook? All pages will be removed.',
        confirm_refresh_all: 'Refresh analytics for ALL published posts (all time)?\n\nUp to 100 posts will be processed. This may take several minutes.',
        confirm_generate_recommendations: 'Generate new recommendations based on top posts analysis?',
        confirm_create_templates_from_ai: 'Generate templates based on AI recommendations?\n\n3-5 optimized templates will be created.',
        confirm_quick_refresh: 'Refresh analytics for the last 7 days?\n\nUp to 50 recent posts will be processed.',

        // Error messages
        error_not_enough_posts: 'Not enough published posts for analysis',
        error_published_posts: 'Published posts:',
        error_refresh_analytics_hint: 'Make sure you refreshed analytics on the "Analytics" page',
        error_generation: 'Error generating recommendations',

        // AI prompt templates
        ai_prompt_intro: 'Create a Facebook post based on the following recommendations:',
        ai_prompt_style: 'Style',
        ai_prompt_tone: 'Tone',
        ai_prompt_topics: 'Topics',
        ai_prompt_phrases: 'Use phrases',
        ai_prompt_structure: 'Structure',
        ai_prompt_emoji: 'Emoji',
        ai_prompt_your_topic: 'Your topic',
        ai_recommendations_applied: 'AI recommendations applied! Add your topic at the end of the prompt.',
        ai_recommendations_unavailable: 'Recommendations unavailable',

        // Authentication page
        auth_welcome: 'Welcome',
        auth_description: 'Sign in with your Google account to continue',
        auth_google_signin: 'Sign in with Google',
        auth_secure_login: 'Secure Login',
        auth_terms: 'By continuing, you agree to the platform\'s terms of use',
        auth_have_questions: 'Have questions?',
        auth_contact_us: 'Contact us',
        auth_right_title: 'Smart Social Media Posting',
        auth_right_subtitle: 'Integrated system for automated social media posting with AI support',
        auth_feature_ai: 'AI Generation',
        auth_feature_ai_desc: 'Create posts using artificial intelligence',
        auth_feature_analytics: 'Analytics',
        auth_feature_analytics_desc: 'Detailed performance statistics',
        auth_feature_schedule: 'Scheduling',
        auth_feature_schedule_desc: 'Automatic publishing at optimal time',
        auth_feature_multi: 'Multi-platform',
        auth_feature_multi_desc: 'Publish on multiple platforms simultaneously',

        // Action buttons
        generate_recommendations: 'Generate Recommendations',
        apply_to_prompt: 'Apply to Prompt',
        create_templates: 'Create Templates',
        quick_refresh: 'Quick Refresh',
        refresh_all: 'Refresh All',
        collect_analytics: 'Collect Analytics',

        // Dashboard
        total_posts: 'Total Posts',
        total_likes: 'Likes',
        total_comments: 'Comments',
        total_shares: 'Shares',
        total_impressions: 'Impressions',
        ai_insights: 'AI Insights',
        recent_posts: 'Recent Posts',
        best_posts: 'Best Posts',
        top_performing: 'Top Performing Posts',

        // Statuses
        status_draft: 'Draft',
        status_scheduled: 'Scheduled',
        status_published: 'Published',
        status_failed: 'Failed',

        // Create Post
        creation_mode: 'Creation Mode',
        manual: 'Manual',
        ai_generation: 'AI Generation',
        ai_prompt: 'AI Prompt',
        ai_prompt_placeholder: 'Describe what the post should be about...',
        min_length: 'Minimum Length',
        max_length: 'Maximum Length',
        generate_text: 'Generate Text',
        post_content: 'Post Content',
        post_content_placeholder: 'Write your post here...',
        link_optional: 'Link (optional)',
        add_images: 'Add Images',
        select_images: 'Select Images',
        selected_images: 'Selected Images',
        no_images_selected: 'Not selected',
        image_hint: 'Hint: You can select multiple images. Maximum 10 photos.',
        select_pages: 'Select pages to publish',
        publish_mode: 'Publishing Mode',
        publish_now: 'Publish Now',
        schedule: 'Schedule',
        scheduled_time: 'Date and Time',
        create_post: 'Create Post',

        // Analytics
        analytics_summary: 'Analytics Summary',
        engagement_rate: 'Engagement Rate',
        avg_engagement: 'Average Engagement',
        period_filter: 'Period Filter',
        days_7: '7 Days',
        days_30: '30 Days',
        all_time: 'All Time',
        post_performance: 'Post Performance',
        likes: 'Likes',
        comments: 'Comments',
        shares: 'Shares',
        impressions: 'Impressions',

        // Recommendations
        recommendations: 'Recommendations',
        based_on_analysis: 'Based on analysis of most successful posts',
        length_label: 'LENGTH:',
        time_label: 'TIME:',
        photo_label: 'PHOTO:',
        optional: 'Optional',
        top_5_posts: 'Top 5 Posts',
        connected_pages: 'Connected Pages',
        published_badge: 'Published',
        view_button: 'View',
        pieces_short: 'pcs',
        analyzed_posts: 'Analyzed Posts',
        optimal_length: 'Optimal Length',
        best_time: 'Best Time',
        best_day: 'Best Day',
        content_insights: 'Content Insights',
        style: 'Style',
        tone: 'Tone',
        topics: 'Topics',
        key_phrases: 'Key Phrases',
        emojis: 'Emojis',
        structure: 'Structure',
        call_to_action: 'Call to Action',
        use_images: 'Image Usage',
        use_links: 'Link Usage',

        // Templates
        templates: 'Templates',
        template_name: 'Template Name',
        template_type: 'Template Type',
        ready_text: 'Ready Text',
        ai_prompt_type: 'AI Prompt',
        use_template: 'Use',
        delete_template: 'Delete Template',
        create_template: 'Create Template',
        no_templates: 'No Templates',

        // Settings
        settings: 'Settings',
        facebook_pages: 'Facebook Pages',
        connected_pages: 'Connected Pages',
        no_pages: 'No connected pages',
        page_name: 'Page Name',
        page_id: 'Page ID',
        connect_facebook: 'Connect Facebook',
        disconnect: 'Disconnect',
        refresh_pages: 'Refresh Pages',

        // Messages
        success: 'Success',
        error: 'Error',
        warning: 'Warning',
        info: 'Info',
        data_updated: 'Data updated',
        post_created: 'Post created successfully!',
        post_published: 'Post published',
        post_deleted: 'Post deleted',
        template_created: 'Template created',
        template_deleted: 'Template deleted',
        enter_prompt: 'Enter prompt for generation',
        enter_content: 'Enter post content',
        select_page: 'Select at least one page',
        confirm_delete: 'Confirm deletion',
        confirm_publish: 'Confirm publication',

        // Days of week
        monday: 'Monday',
        tuesday: 'Tuesday',
        wednesday: 'Wednesday',
        thursday: 'Thursday',
        friday: 'Friday',
        saturday: 'Saturday',
        sunday: 'Sunday',

        // Additional translations
        recent_posts_list: 'Recent Posts',
        all_posts: 'All Posts',
        no_posts: 'No posts',
        post_details: 'Post Details',
        created: 'Created',
        published: 'Published',
        scheduled_for: 'Scheduled for',
        logout: 'Logout',
        no_recommendations: 'No recommendations',
        generate_new: 'Generate New',
        no_analytics: 'No analytics',
        page_not_found: 'Page not found',
        loading_error: 'Loading error',
        updated: 'Updated',
        ago: 'ago',
        hours: 'hours',
        at: 'at',
        on: 'on',
        best_performing: 'Best Performing',
        post_text: 'Post Text',
        publications_on_pages: 'Publications on Pages',
        statistics: 'Statistics',
        update_data: 'Update Data',
        apply_recommendations: 'Apply Recommendations',
        based_on_top_posts: 'Based on ${count} most successful posts',
        posting_schedule: 'Posting Schedule',
        content_recommendations: 'Content Recommendations',
        from: 'from',
        to: 'to',
        recommended: 'Recommended',
        yes: 'Yes',
        no: 'No',
        images: 'Images',
        with_images: 'With Images',
        with_links: 'With Links',
        image: 'image',
        link: 'Link',
        status: 'Status',
        actions: 'Actions',
        filter: 'Filter',
        show_all: 'Show All',
        per_page: 'per page',
        total: 'Total',
        avg: 'Average',
        select_all: 'Select All',
        deselect_all: 'Deselect All',
        content_style: 'Content Style',
        create_first_post: 'Create your first post',
        view_post_details: 'View Details',
        view_details: 'View details',

        // Additional translations for pages.js
        date_time: 'Date and Time',
        post_analytics: 'Post Analytics',
        published_posts: 'Published Posts',
        refresh_all_tooltip: 'Full refresh of all posts (may take a while)',
        quick_refresh_tooltip: 'Quick refresh for the last 7 days',
        refresh_all_description: 'updates ALL published posts (up to 100 posts, no date limit)',
        quick_refresh_description: 'updates only posts from the last 7 days (up to 50 posts)',
        hint: 'Hint',
        no_published_posts: 'No published posts',
        publish_first_for_analytics: 'First publish posts on Facebook to see analytics',
        activity_dynamics: 'Activity Dynamics',
        cumulative_growth: 'Cumulative Growth',
        engagement_distribution: 'Engagement Distribution',
        type_ratio: 'Type Ratio',
        top_10_posts: 'Top 10 Best Posts',
        '7_days': '7 days',
        '30_days': '30 days',
        post: 'Post',
        comm_short: 'Comm.',
        shares_short: 'Shares',
        photo: 'Photo',
        detailed_analytics: 'Detailed Analytics',
        performance_dynamics: 'Performance Dynamics',
        avg_engagement_rate: 'Average Engagement Rate',
        top_10: 'Top-10',
        insights: 'Insights',
        analyzed: 'Analyzed',
        avg_impressions: 'Average Impressions',
        views: 'views',
        engagement: 'Engagement',
        interactions: 'interactions',
        accumulated_until: 'Accumulated until',
        tip: 'Tip',
        use_recommendations_page: 'Use the "Recommendations" page for detailed analysis of the most successful posts and getting AI insights to improve your content.',
        go_to_recommendations: 'Go to Recommendations',
        click_quick_refresh: 'Click "Quick Refresh" to collect analytics',
        loading_analytics_error: 'Error loading analytics',
        ai_recommendations: 'AI Recommendations',
        current_recommendations: 'Current Recommendations',
        based_on: 'Based on',
        posts: 'posts',
        style_and_tone: 'Style and Tone',
        length: 'Length',
        days: 'Days',
        links: 'Links',
        need_published_posts_for_recommendations: 'You need to have published posts to generate recommendations.',
        top_10_week_posts: 'Top 10 Posts This Week',
        loading_recommendations_error: 'Error loading recommendations',
        post_templates: 'Post Templates',
        generate_from_ai: 'Generate from AI',
        use: 'Use',
        create_templates_for_quick_posts: 'Create templates for quick post creation',
        facebook_connection: 'Facebook Connection',
        facebook_connected: 'Facebook Connected',
        found: 'Found',
        valid_until: 'Valid until',
        how_to_connect_facebook: 'How to connect Facebook',
        fb_step_1: 'Click the "Connect Facebook" button below',
        fb_step_2: 'Log in to your Facebook account',
        fb_step_3: 'Grant permissions to manage pages',
        fb_step_4: 'Your Facebook Pages will be automatically connected',
        no_connected_pages: 'No connected pages',
        click_refresh_to_load_pages: 'Click "Refresh Pages" to load your Facebook Pages',
        connect_facebook_to_see_pages: 'Connect Facebook above to have your pages appear here automatically',
        about_system: 'About System',
        integrated_posting_system: 'Integrated Posting Automation System',
        version: 'Version',
        tokens: 'Tokens',
        connected: 'Connected',
        no_name: 'No name',
        close: 'Close',
        loading: 'Loading...',
        not_specified: 'Not specified',
        days_ago: 'd. ago',
        hours_ago: 'h. ago',
        minutes_ago: 'm. ago',
        just_now: 'just now',
        post_created_success: 'Post created successfully!',
        post_creation_error: 'Post creation error',
        post_published_on_pages: 'Post published on ${successCount}/${totalCount} pages',
        post_loading_error: 'Post loading error',
        post_deleted: 'Post deleted',
        no_published_posts_to_update: 'No published posts to update',
        no_posts_last_7_days: 'No posts in the last 7 days to update',
    }
};

class I18n {
    constructor() {
        this.currentLang = localStorage.getItem('app_lang') || 'en';
    }

    t(key, params = {}) {
        let text = translations[this.currentLang][key] || translations['uk'][key] || key;

        // Підставляємо параметри
        Object.keys(params).forEach(param => {
            text = text.replace(`\${${param}}`, params[param]);
        });

        return text;
    }

    setLang(lang) {
        if (translations[lang]) {
            this.currentLang = lang;
            localStorage.setItem('app_lang', lang);
            this.updateUI();
        }
    }

    getLang() {
        return this.currentLang;
    }

    updateUI() {
        // Оновлюємо всі елементи з data-i18n атрибутом
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            const translation = this.t(key);

            // Перевіряємо чи це placeholder
            if (el.hasAttribute('placeholder')) {
                el.placeholder = translation;
            } else {
                el.textContent = translation;
            }
        });

        // Оновлюємо заголовок сторінки
        const pageTitle = document.getElementById('page-title');
        if (pageTitle && typeof currentPage !== 'undefined') {
            pageTitle.textContent = this.t(`nav_${currentPage}`);
        }

        // Перезавантажуємо поточну сторінку для оновлення динамічного контенту
        if (typeof loadPage === 'function' && typeof currentPage !== 'undefined') {
            loadPage(currentPage);
        }
    }
}

const i18n = new I18n();

// Helper функція для використання в template strings
function t(key, params = {}) {
    return i18n.t(key, params);
}
